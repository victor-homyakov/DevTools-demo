<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>DevTools</title>
    <link rel="stylesheet" href="style.css" />
    <!--<script src="https://getfirebug.com/firebug-lite.js"></script>-->
</head>
<body onload="console.log('body.onload event fired')">
<h1>https://clck.ru/CuZsy</h1>
<h1>DevTools</h1>
<h2>Как открыть DevTools</h2>
<span id="inspector-target">Inspect me!</span>
<!--
    Горячие клавиши открытия DevTools:
    F12, Cmd+Alt+I, Ctrl+Alt+I
-->
<ul>
    <li>
        Контекстное меню - Просмотреть код (Chrome), Исследовать элемент (Firefox, Yandex browser)<br />
        <div class="img-wrapper"><img src="images/context%20menu%20-%20Yandex%20browser.png" /></div>
    </li>
    <li>
        Safari: сначала надо разрешить показ инструментов разработки<br />
        <div class="img-wrapper"><img class="scaled" src="images/enable%20DevTools%20in%20Safari.png" /></div>
    </li>
    <li>Другие браузеры: аналогично Chrome/Firefox</li>
    <li>На английском: Inspect element, inspect object и т.п.</li>
</ul>

<h2>Панель Elements (Элементы, Инспектор DOM и т.п.)</h2>

<ul>
    <li>Просмотр/редактирование актуального состояния дерева DOM (может отличаться от загруженного HTML)</li>
    <li>Просмотр/редактирование стилей</li>
    <!--<li>
        Просмотр документации MDN по CSS (Firefox, удалён)<br />
        <div class="img-wrapper"><img src="images/MDN%20CSS%20link%20in%20Firefox.png" /></div>
    </li>-->
    <li>Просмотр вычисленных стилей</li>
    <li>
        Режим адаптивного дизайна
        (в Safari - через меню "Разработка" - "Перейти в режим отзывчивого дизайна")
    </li>
    <li>Firefox: просмотр обработчиков событий, Chrome: просмотр и <b>удаление</b></li>
    <li>Chrome, Firefox: последние проинспектированные элементы: $0, $1, $2, $3</li>
    <li>DOM properties</li>
    <li>
        DOM breakpoints (Chrome, Safari)<br />
        <div class="img-wrapper"><img src="images/DOM%20breakpoints%20-%20Chrome.png" /></div>
    </li>
</ul>

<h2>Console (Консоль)</h2>

Интеграция практически со всеми другими панелями

<ul>
    <li><code>$0 ... $4</code></li>
    <li>
        Логирование в консоль событий на элементе
        <code>
            monitorEvents(element, eventName) ... unmonitorEvents(element)
            monitorEvents(document, 'mouse') // unmonitorEvents(document)
        </code>
    </li>
    <li>Reveal in Elements panel в контекстном меню на элементе</li>
    <li>... и многое другое</li>
</ul>

<a href="https://developers.google.com/web/tools/chrome-devtools/console/">
    https://developers.google.com/web/tools/chrome-devtools/console/ - Документация по консоли Chrome
</a>

<h2>Sources (Отладчик в Safari и Firefox)</h2>

<ul>
    <li>Pause on exceptions (all, unhandled)</li>
    <li>XHR/fetch breakpoints (Chrome, Safari)</li>
    <li>Event listener breakpoints</li>
    <li><code>debugger</code> в JavaScript</li>
    <li>
        Команды консоли для логирования/отладки вызовов функции
        <code>
            debug(function), monitor(function)
            monitor(myIntervalHandler) // unmonitor(myIntervalHandler)
        </code>
    </li>
    <li>Логирование на лету без модификации кода: условные точки останова</li>
    <li>Ctrl+Shift+O (Cmd+Shift+O) - список методов</li>
    <li>
        Во время отладки вычисляет выделенный фрагмент кода при ховере<br />
        <div class="img-wrapper"><img src="images/eval%20on%20hover%20-%20Chrome.png" /></div>
    </li>
    <li>Blackbox script (Firefox, Chrome)</li>
</ul>

<h2>Network (Сеть, Монитор сети)</h2>

<ul>
    <li>Список колонок настраивается (это неочевидно, и многие об этом не знают)</li>
    <li>Можно делать скриншоты в процессе загрузки (Chrome)</li>
    <li>Включение/отключение кэша (об этом важно помнить, когда смотришь в production)</li>
    <li>Network throttling - эмуляция медленного соединения</li>
    <li>Ховер с нажатой клавишей Shift - подсветка инициировавшего/инициированных запросов</li>
</ul>

<h2>Performance</h2>

<ul>
    <li>CPU/Network throttling</li>
    <li>Клавиши WASD для перемещения/масштабирования</li>
</ul>

<h2>Memory</h2>

<ul>
    <li>Heap snapshot</li>
    <li>Allocation timeline</li>
    <li>Find memory leaks: three snapshots technique, timeline</li>
</ul>

<h2>JS Profiler</h2>

<ul>
    <li>Deprecated в Chrome, будет удалён</li>
    <li>В IE11/Windows 7 (который без Edge) был инструментирующий профайлер</li>
</ul>

<h2>Application (Хранилище в Safari и Firefox)</h2>

<ul>
    <li>Local Storage, Session Storage, IndexedDB, Cookies и т.п.</li>
    <li>В Chrome - удаление и принудительное обновление Service Workers</li>
</ul>

<h2>Security</h2>

<h2>Audits (Chrome)</h2>
Embedded Lighthouse

<h2>Дополнительные панели</h2>

<div class="img-wrapper"><img src="images/additional%20panes%20-%20Chrome.png" /></div>

<h2>Rendering</h2>

<ul>
    <li>Дополнительная панель, открывается в настройках консоли</li>
    <li>Paint flashing</li>
    <li>FPS meter</li>
    <li>Scrolling performance issues</li>
    <li>Emulate CSS media - проверка стилей для печати</li>
</ul>

<h2>Отладка мобильных браузеров</h2>
<ul>
    <li>
        Chrome:
        <ul>
            <li>разрешить отладку в мобильном Chrome</li>
            <li>подключить телефон по USB</li>
            <li>разрешить подключение</li>
            <li>в десктопном браузере открыть вкладку Remote devices в нижней консоли</li>
        </ul>
    </li>
    <li>
        Safari:
        <ul>
            <li>разрешить отладку в мобильном Safari</li>
            <li>подключить телефон по USB</li>
            <li>разрешить подключение</li>
            <li>в десктопном браузере в меню "Разработка" должно появиться устройство</li>
        </ul>
    </li>
</ul>

<h2>Полезные ссылки</h2>

<ul>
    <li>
        <a href="https://developers.google.com/web/tools/chrome-devtools/">
            https://developers.google.com/web/tools/chrome-devtools/ -
            Документация по DevTools Chrome
        </a>
        <img class="qr" src="images/Chrome%20DevTools%20docs%20QR.png" />
    </li>
    <li>
        <a href="https://umaar.com/dev-tips">
            https://umaar.com/dev-tips -
            Полезные советы по DevTools
        </a>
        <img class="qr" src="images/DevTools%20tips%20QR.png" />
    </li>
</ul>

<script>
    function myIntervalHandler() {
        console.log('Hello there!', Math.round(Date.now() / 1e11));
    }

    setInterval(myIntervalHandler, 5000);
</script>
</body>
</html>
